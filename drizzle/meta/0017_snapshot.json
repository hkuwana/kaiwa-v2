{
  "id": "47f81595-5493-4711-9ef2-61213e1088e6",
  "prevId": "049612f9-37b8-4ecf-9c41-a1c091290fa0",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.analysis_findings": {
      "name": "analysis_findings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "language_id": {
          "name": "language_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "feature_id": {
          "name": "feature_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "module_id": {
          "name": "module_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "run_id": {
          "name": "run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "analysis_suggestion_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'hint'"
        },
        "action_status": {
          "name": "action_status",
          "type": "analysis_finding_action",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "action_updated_at": {
          "name": "action_updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "offset_start": {
          "name": "offset_start",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "offset_end": {
          "name": "offset_end",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "original_text": {
          "name": "original_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "suggested_text": {
          "name": "suggested_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "explanation": {
          "name": "explanation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "example": {
          "name": "example",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "analysis_findings_user_idx": {
          "name": "analysis_findings_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analysis_findings_conversation_idx": {
          "name": "analysis_findings_conversation_idx",
          "columns": [
            {
              "expression": "conversation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analysis_findings_message_idx": {
          "name": "analysis_findings_message_idx",
          "columns": [
            {
              "expression": "message_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analysis_findings_feature_idx": {
          "name": "analysis_findings_feature_idx",
          "columns": [
            {
              "expression": "feature_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analysis_findings_language_idx": {
          "name": "analysis_findings_language_idx",
          "columns": [
            {
              "expression": "language_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analysis_findings_action_idx": {
          "name": "analysis_findings_action_idx",
          "columns": [
            {
              "expression": "action_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analysis_findings_severity_idx": {
          "name": "analysis_findings_severity_idx",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "analysis_findings_user_id_users_id_fk": {
          "name": "analysis_findings_user_id_users_id_fk",
          "tableFrom": "analysis_findings",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "analysis_findings_language_id_languages_id_fk": {
          "name": "analysis_findings_language_id_languages_id_fk",
          "tableFrom": "analysis_findings",
          "tableTo": "languages",
          "columnsFrom": [
            "language_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "analysis_findings_conversation_id_conversations_id_fk": {
          "name": "analysis_findings_conversation_id_conversations_id_fk",
          "tableFrom": "analysis_findings",
          "tableTo": "conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "analysis_findings_message_id_messages_id_fk": {
          "name": "analysis_findings_message_id_messages_id_fk",
          "tableFrom": "analysis_findings",
          "tableTo": "messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "analysis_findings_feature_id_linguistic_features_id_fk": {
          "name": "analysis_findings_feature_id_linguistic_features_id_fk",
          "tableFrom": "analysis_findings",
          "tableTo": "linguistic_features",
          "columnsFrom": [
            "feature_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.analytics_events": {
      "name": "analytics_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "event_name": {
          "name": "event_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "properties": {
          "name": "properties",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "referrer": {
          "name": "referrer",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "analytics_events_user_id_users_id_fk": {
          "name": "analytics_events_user_id_users_id_fk",
          "tableFrom": "analytics_events",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conversation_sessions": {
      "name": "conversation_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "language": {
          "name": "language",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_time": {
          "name": "end_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "duration_minutes": {
          "name": "duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "minutes_consumed": {
          "name": "minutes_consumed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "was_extended": {
          "name": "was_extended",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "extensions_used": {
          "name": "extensions_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "transcription_mode": {
          "name": "transcription_mode",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "device_type": {
          "name": "device_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "conversation_sessions_user_idx": {
          "name": "conversation_sessions_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversation_sessions_start_time_idx": {
          "name": "conversation_sessions_start_time_idx",
          "columns": [
            {
              "expression": "start_time",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversation_sessions_language_idx": {
          "name": "conversation_sessions_language_idx",
          "columns": [
            {
              "expression": "language",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "conversation_sessions_user_id_users_id_fk": {
          "name": "conversation_sessions_user_id_users_id_fk",
          "tableFrom": "conversation_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conversations": {
      "name": "conversations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "guest_id": {
          "name": "guest_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_language_id": {
          "name": "target_language_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mode": {
          "name": "mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'traditional'"
        },
        "voice": {
          "name": "voice",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scenario_id": {
          "name": "scenario_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_onboarding": {
          "name": "is_onboarding",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'true'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "ended_at": {
          "name": "ended_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "duration_seconds": {
          "name": "duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "message_count": {
          "name": "message_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "audio_seconds": {
          "name": "audio_seconds",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "comfort_rating": {
          "name": "comfort_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "engagement_level": {
          "name": "engagement_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "conversations_user_id_idx": {
          "name": "conversations_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_target_language_id_idx": {
          "name": "conversations_target_language_id_idx",
          "columns": [
            {
              "expression": "target_language_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_mode_idx": {
          "name": "conversations_mode_idx",
          "columns": [
            {
              "expression": "mode",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_scenario_id_idx": {
          "name": "conversations_scenario_id_idx",
          "columns": [
            {
              "expression": "scenario_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_is_onboarding_idx": {
          "name": "conversations_is_onboarding_idx",
          "columns": [
            {
              "expression": "is_onboarding",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_started_at_idx": {
          "name": "conversations_started_at_idx",
          "columns": [
            {
              "expression": "started_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_ended_at_idx": {
          "name": "conversations_ended_at_idx",
          "columns": [
            {
              "expression": "ended_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_guest_id_idx": {
          "name": "conversations_guest_id_idx",
          "columns": [
            {
              "expression": "guest_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_user_language_idx": {
          "name": "conversations_user_language_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "target_language_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_started_ended_idx": {
          "name": "conversations_started_ended_idx",
          "columns": [
            {
              "expression": "started_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "ended_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "conversations_user_id_users_id_fk": {
          "name": "conversations_user_id_users_id_fk",
          "tableFrom": "conversations",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "conversations_target_language_id_languages_id_fk": {
          "name": "conversations_target_language_id_languages_id_fk",
          "tableFrom": "conversations",
          "tableTo": "languages",
          "columnsFrom": [
            "target_language_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "conversations_scenario_id_scenarios_id_fk": {
          "name": "conversations_scenario_id_scenarios_id_fk",
          "tableFrom": "conversations",
          "tableTo": "scenarios",
          "columnsFrom": [
            "scenario_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.email_verification": {
      "name": "email_verification",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "attempts": {
          "name": "attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "email_verification_user_id_idx": {
          "name": "email_verification_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "email_verification_email_idx": {
          "name": "email_verification_email_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "email_verification_code_idx": {
          "name": "email_verification_code_idx",
          "columns": [
            {
              "expression": "code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "email_verification_expires_at_idx": {
          "name": "email_verification_expires_at_idx",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "email_verification_user_id_users_id_fk": {
          "name": "email_verification_user_id_users_id_fk",
          "tableFrom": "email_verification",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.languages": {
      "name": "languages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "native_name": {
          "name": "native_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_rtl": {
          "name": "is_rtl",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "flag": {
          "name": "flag",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "has_romanization": {
          "name": "has_romanization",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "writing_system": {
          "name": "writing_system",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "supported_scripts": {
          "name": "supported_scripts",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "is_supported": {
          "name": "is_supported",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {
        "languages_code_idx": {
          "name": "languages_code_idx",
          "columns": [
            {
              "expression": "code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "languages_writing_system_idx": {
          "name": "languages_writing_system_idx",
          "columns": [
            {
              "expression": "writing_system",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "languages_is_supported_idx": {
          "name": "languages_is_supported_idx",
          "columns": [
            {
              "expression": "is_supported",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "languages_code_unique": {
          "name": "languages_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.linguistic_feature_aliases": {
      "name": "linguistic_feature_aliases",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "feature_id": {
          "name": "feature_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "language_id": {
          "name": "language_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "alias": {
          "name": "alias",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "linguistic_feature_aliases_feature_idx": {
          "name": "linguistic_feature_aliases_feature_idx",
          "columns": [
            {
              "expression": "feature_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "linguistic_feature_aliases_alias_idx": {
          "name": "linguistic_feature_aliases_alias_idx",
          "columns": [
            {
              "expression": "alias",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "linguistic_feature_aliases_feature_id_linguistic_features_id_fk": {
          "name": "linguistic_feature_aliases_feature_id_linguistic_features_id_fk",
          "tableFrom": "linguistic_feature_aliases",
          "tableTo": "linguistic_features",
          "columnsFrom": [
            "feature_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "linguistic_feature_aliases_language_id_languages_id_fk": {
          "name": "linguistic_feature_aliases_language_id_languages_id_fk",
          "tableFrom": "linguistic_feature_aliases",
          "tableTo": "languages",
          "columnsFrom": [
            "language_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.linguistic_features": {
      "name": "linguistic_features",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "language_id": {
          "name": "language_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "macro_skill": {
          "name": "macro_skill",
          "type": "linguistic_macro_skill",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "sub_skill": {
          "name": "sub_skill",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "micro_rule": {
          "name": "micro_rule",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cefr_references": {
          "name": "cefr_references",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "coaching_copy": {
          "name": "coaching_copy",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "linguistic_features_language_idx": {
          "name": "linguistic_features_language_idx",
          "columns": [
            {
              "expression": "language_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "linguistic_features_macro_skill_idx": {
          "name": "linguistic_features_macro_skill_idx",
          "columns": [
            {
              "expression": "macro_skill",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "linguistic_features_sub_skill_idx": {
          "name": "linguistic_features_sub_skill_idx",
          "columns": [
            {
              "expression": "sub_skill",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "linguistic_features_language_id_languages_id_fk": {
          "name": "linguistic_features_language_id_languages_id_fk",
          "tableFrom": "linguistic_features",
          "tableTo": "languages",
          "columnsFrom": [
            "language_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.messages": {
      "name": "messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "sequence_id": {
          "name": "sequence_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "translated_content": {
          "name": "translated_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_language": {
          "name": "source_language",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_language": {
          "name": "target_language",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_native_language": {
          "name": "user_native_language",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "romanization": {
          "name": "romanization",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hiragana": {
          "name": "hiragana",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "other_scripts": {
          "name": "other_scripts",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "speech_timings": {
          "name": "speech_timings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "translation_confidence": {
          "name": "translation_confidence",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "translation_provider": {
          "name": "translation_provider",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "translation_notes": {
          "name": "translation_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_translated": {
          "name": "is_translated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "grammar_analysis": {
          "name": "grammar_analysis",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "vocabulary_analysis": {
          "name": "vocabulary_analysis",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "pronunciation_score": {
          "name": "pronunciation_score",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "audio_url": {
          "name": "audio_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "audio_duration": {
          "name": "audio_duration",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "difficulty_level": {
          "name": "difficulty_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "learning_tags": {
          "name": "learning_tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "conversation_context": {
          "name": "conversation_context",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "message_intent": {
          "name": "message_intent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "messages_conversation_id_idx": {
          "name": "messages_conversation_id_idx",
          "columns": [
            {
              "expression": "conversation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_role_idx": {
          "name": "messages_role_idx",
          "columns": [
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_timestamp_idx": {
          "name": "messages_timestamp_idx",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_sequence_idx": {
          "name": "messages_sequence_idx",
          "columns": [
            {
              "expression": "sequence_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_conversation_timestamp_idx": {
          "name": "messages_conversation_timestamp_idx",
          "columns": [
            {
              "expression": "conversation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_conversation_role_idx": {
          "name": "messages_conversation_role_idx",
          "columns": [
            {
              "expression": "conversation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_language_idx": {
          "name": "messages_language_idx",
          "columns": [
            {
              "expression": "source_language",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "target_language",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_user_native_language_idx": {
          "name": "messages_user_native_language_idx",
          "columns": [
            {
              "expression": "user_native_language",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_translation_idx": {
          "name": "messages_translation_idx",
          "columns": [
            {
              "expression": "is_translated",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "translation_confidence",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_difficulty_idx": {
          "name": "messages_difficulty_idx",
          "columns": [
            {
              "expression": "difficulty_level",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_intent_idx": {
          "name": "messages_intent_idx",
          "columns": [
            {
              "expression": "message_intent",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_romanization_idx": {
          "name": "messages_romanization_idx",
          "columns": [
            {
              "expression": "romanization",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_hiragana_idx": {
          "name": "messages_hiragana_idx",
          "columns": [
            {
              "expression": "hiragana",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_language_learning_idx": {
          "name": "messages_language_learning_idx",
          "columns": [
            {
              "expression": "source_language",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "target_language",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_native_language",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_script_support_idx": {
          "name": "messages_script_support_idx",
          "columns": [
            {
              "expression": "source_language",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "romanization",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "hiragana",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "messages_conversation_id_conversations_id_fk": {
          "name": "messages_conversation_id_conversations_id_fk",
          "tableFrom": "messages",
          "tableTo": "conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.payments": {
      "name": "payments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "subscription_id": {
          "name": "subscription_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_payment_intent_id": {
          "name": "stripe_payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_invoice_id": {
          "name": "stripe_invoice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'usd'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "payments_user_id_idx": {
          "name": "payments_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payments_subscription_id_idx": {
          "name": "payments_subscription_id_idx",
          "columns": [
            {
              "expression": "subscription_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payments_status_idx": {
          "name": "payments_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payments_currency_idx": {
          "name": "payments_currency_idx",
          "columns": [
            {
              "expression": "currency",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payments_created_at_idx": {
          "name": "payments_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payments_user_status_idx": {
          "name": "payments_user_status_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "payments_user_id_users_id_fk": {
          "name": "payments_user_id_users_id_fk",
          "tableFrom": "payments",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payments_subscription_id_subscriptions_id_fk": {
          "name": "payments_subscription_id_subscriptions_id_fk",
          "tableFrom": "payments",
          "tableTo": "subscriptions",
          "columnsFrom": [
            "subscription_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "payments_stripe_payment_intent_id_unique": {
          "name": "payments_stripe_payment_intent_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "stripe_payment_intent_id"
          ]
        },
        "payments_stripe_invoice_id_unique": {
          "name": "payments_stripe_invoice_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "stripe_invoice_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.scenario_attempts": {
      "name": "scenario_attempts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "scenario_id": {
          "name": "scenario_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "attempt_number": {
          "name": "attempt_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_steps": {
          "name": "completed_steps",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "abandoned_at": {
          "name": "abandoned_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "time_spent_seconds": {
          "name": "time_spent_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "hints_used": {
          "name": "hints_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "translations_used": {
          "name": "translations_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "scenario_attempts_user_id_users_id_fk": {
          "name": "scenario_attempts_user_id_users_id_fk",
          "tableFrom": "scenario_attempts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "scenario_attempts_scenario_id_scenarios_id_fk": {
          "name": "scenario_attempts_scenario_id_scenarios_id_fk",
          "tableFrom": "scenario_attempts",
          "tableTo": "scenarios",
          "columnsFrom": [
            "scenario_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.scenario_outcomes": {
      "name": "scenario_outcomes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scenario_id": {
          "name": "scenario_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "was_goal_achieved": {
          "name": "was_goal_achieved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "goal_completion_score": {
          "name": "goal_completion_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "grammar_usage_score": {
          "name": "grammar_usage_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "vocabulary_usage_score": {
          "name": "vocabulary_usage_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "pronunciation_score": {
          "name": "pronunciation_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "used_target_vocabulary": {
          "name": "used_target_vocabulary",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "missed_target_vocabulary": {
          "name": "missed_target_vocabulary",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "grammar_errors": {
          "name": "grammar_errors",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "ai_feedback": {
          "name": "ai_feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "suggestions": {
          "name": "suggestions",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "duration_seconds": {
          "name": "duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "exchange_count": {
          "name": "exchange_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "scenario_outcomes_user_id_users_id_fk": {
          "name": "scenario_outcomes_user_id_users_id_fk",
          "tableFrom": "scenario_outcomes",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "scenario_outcomes_conversation_id_conversations_id_fk": {
          "name": "scenario_outcomes_conversation_id_conversations_id_fk",
          "tableFrom": "scenario_outcomes",
          "tableTo": "conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "scenario_outcomes_scenario_id_scenarios_id_fk": {
          "name": "scenario_outcomes_scenario_id_scenarios_id_fk",
          "tableFrom": "scenario_outcomes",
          "tableTo": "scenarios",
          "columnsFrom": [
            "scenario_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.scenarios": {
      "name": "scenarios",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'comfort'"
        },
        "difficulty": {
          "name": "difficulty",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'beginner'"
        },
        "instructions": {
          "name": "instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "context": {
          "name": "context",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expected_outcome": {
          "name": "expected_outcome",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "learning_objectives": {
          "name": "learning_objectives",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "comfort_indicators": {
          "name": "comfort_indicators",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "scenarios_category_idx": {
          "name": "scenarios_category_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "scenarios_difficulty_idx": {
          "name": "scenarios_difficulty_idx",
          "columns": [
            {
              "expression": "difficulty",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "scenarios_is_active_idx": {
          "name": "scenarios_is_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.session": {
      "name": "session",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "session_user_id_idx": {
          "name": "session_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "session_expires_at_idx": {
          "name": "session_expires_at_idx",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "session_user_id_users_id_fk": {
          "name": "session_user_id_users_id_fk",
          "tableFrom": "session",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.speakers": {
      "name": "speakers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "language_id": {
          "name": "language_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "region": {
          "name": "region",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "dialect_name": {
          "name": "dialect_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "bcp47_code": {
          "name": "bcp47_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "speaker_emoji": {
          "name": "speaker_emoji",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "gender": {
          "name": "gender",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "voice_name": {
          "name": "voice_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "voice_provider_id": {
          "name": "voice_provider_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "openai_voice_id": {
          "name": "openai_voice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'alloy'"
        }
      },
      "indexes": {
        "speakers_language_id_idx": {
          "name": "speakers_language_id_idx",
          "columns": [
            {
              "expression": "language_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "speakers_is_active_idx": {
          "name": "speakers_is_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "speakers_gender_idx": {
          "name": "speakers_gender_idx",
          "columns": [
            {
              "expression": "gender",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "speakers_region_idx": {
          "name": "speakers_region_idx",
          "columns": [
            {
              "expression": "region",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "speakers_language_active_idx": {
          "name": "speakers_language_active_idx",
          "columns": [
            {
              "expression": "language_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "speakers_language_id_languages_id_fk": {
          "name": "speakers_language_id_languages_id_fk",
          "tableFrom": "speakers",
          "tableTo": "languages",
          "columnsFrom": [
            "language_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subscriptions": {
      "name": "subscriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_price_id": {
          "name": "stripe_price_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "current_tier": {
          "name": "current_tier",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'free'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "subscriptions_user_id_idx": {
          "name": "subscriptions_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "subscriptions_current_tier_idx": {
          "name": "subscriptions_current_tier_idx",
          "columns": [
            {
              "expression": "current_tier",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "subscriptions_updated_at_idx": {
          "name": "subscriptions_updated_at_idx",
          "columns": [
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "subscriptions_user_id_users_id_fk": {
          "name": "subscriptions_user_id_users_id_fk",
          "tableFrom": "subscriptions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "subscriptions_stripe_subscription_id_unique": {
          "name": "subscriptions_stripe_subscription_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "stripe_subscription_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tiers": {
      "name": "tiers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "monthly_conversations": {
          "name": "monthly_conversations",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "monthly_seconds": {
          "name": "monthly_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "monthly_realtime_sessions": {
          "name": "monthly_realtime_sessions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "daily_conversations": {
          "name": "daily_conversations",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "daily_seconds": {
          "name": "daily_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 180
        },
        "daily_analyses": {
          "name": "daily_analyses",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "max_session_length_seconds": {
          "name": "max_session_length_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "session_banking_enabled": {
          "name": "session_banking_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "max_banked_seconds": {
          "name": "max_banked_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "has_realtime_access": {
          "name": "has_realtime_access",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "has_advanced_voices": {
          "name": "has_advanced_voices",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "has_analytics": {
          "name": "has_analytics",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "has_deep_analysis": {
          "name": "has_deep_analysis",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "has_custom_phrases": {
          "name": "has_custom_phrases",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "has_conversation_memory": {
          "name": "has_conversation_memory",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "has_anki_export": {
          "name": "has_anki_export",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "monthly_price_usd": {
          "name": "monthly_price_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "annual_price_usd": {
          "name": "annual_price_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_product_id": {
          "name": "stripe_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_price_id_monthly": {
          "name": "stripe_price_id_monthly",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_price_id_annual": {
          "name": "stripe_price_id_annual",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "overage_price_per_minute_in_cents": {
          "name": "overage_price_per_minute_in_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 10
        },
        "conversation_timeout_seconds": {
          "name": "conversation_timeout_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "warning_threshold_seconds": {
          "name": "warning_threshold_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "can_extend": {
          "name": "can_extend",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "max_extensions": {
          "name": "max_extensions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "extension_duration_seconds": {
          "name": "extension_duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "feedback_sessions_per_month": {
          "name": "feedback_sessions_per_month",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'unlimited'"
        },
        "customized_phrases_frequency": {
          "name": "customized_phrases_frequency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'weekly'"
        },
        "conversation_memory_level": {
          "name": "conversation_memory_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'basic'"
        },
        "anki_export_limit": {
          "name": "anki_export_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": -1
        },
        "max_memories": {
          "name": "max_memories",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 10
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "tiers_is_active_idx": {
          "name": "tiers_is_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tiers_stripe_product_idx": {
          "name": "tiers_stripe_product_idx",
          "columns": [
            {
              "expression": "stripe_product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_feature_profiles": {
      "name": "user_feature_profiles",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "feature_id": {
          "name": "feature_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "language_id": {
          "name": "language_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "occurrence_count": {
          "name": "occurrence_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "clean_run_count": {
          "name": "clean_run_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_seen_at": {
          "name": "last_seen_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_mastered_at": {
          "name": "last_mastered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "mastery_score": {
          "name": "mastery_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "review_priority": {
          "name": "review_priority",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1'"
        },
        "streak_length": {
          "name": "streak_length",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_feature_profiles_feature_idx": {
          "name": "user_feature_profiles_feature_idx",
          "columns": [
            {
              "expression": "feature_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_feature_profiles_language_idx": {
          "name": "user_feature_profiles_language_idx",
          "columns": [
            {
              "expression": "language_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_feature_profiles_priority_idx": {
          "name": "user_feature_profiles_priority_idx",
          "columns": [
            {
              "expression": "review_priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_feature_profiles_user_id_users_id_fk": {
          "name": "user_feature_profiles_user_id_users_id_fk",
          "tableFrom": "user_feature_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_feature_profiles_feature_id_linguistic_features_id_fk": {
          "name": "user_feature_profiles_feature_id_linguistic_features_id_fk",
          "tableFrom": "user_feature_profiles",
          "tableTo": "linguistic_features",
          "columnsFrom": [
            "feature_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_feature_profiles_language_id_languages_id_fk": {
          "name": "user_feature_profiles_language_id_languages_id_fk",
          "tableFrom": "user_feature_profiles",
          "tableTo": "languages",
          "columnsFrom": [
            "language_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "user_feature_profiles_user_id_feature_id_pk": {
          "name": "user_feature_profiles_user_id_feature_id_pk",
          "columns": [
            "user_id",
            "feature_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_preferences": {
      "name": "user_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "target_language_id": {
          "name": "target_language_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "learning_goal": {
          "name": "learning_goal",
          "type": "learning_motivation_enum",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'Connection'"
        },
        "preferred_voice": {
          "name": "preferred_voice",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'sage'"
        },
        "daily_goal_seconds": {
          "name": "daily_goal_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 180
        },
        "speaking_level": {
          "name": "speaking_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "listening_level": {
          "name": "listening_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "reading_level": {
          "name": "reading_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "writing_level": {
          "name": "writing_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "current_language_level": {
          "name": "current_language_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'A1.1'"
        },
        "practical_level": {
          "name": "practical_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'basic-greetings'"
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 50
        },
        "last_level_assessment": {
          "name": "last_level_assessment",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "level_progression": {
          "name": "level_progression",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "speaking_confidence": {
          "name": "speaking_confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 25
        },
        "successful_exchanges": {
          "name": "successful_exchanges",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "comfort_zone": {
          "name": "comfort_zone",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "conversation_context": {
          "name": "conversation_context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "specific_goals": {
          "name": "specific_goals",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "challenge_preference": {
          "name": "challenge_preference",
          "type": "challenge_preference_enum",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'moderate'"
        },
        "correction_style": {
          "name": "correction_style",
          "type": "correction_style_enum",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'gentle'"
        },
        "memories": {
          "name": "memories",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "favorite_scenario_ids": {
          "name": "favorite_scenario_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "recent_session_scores": {
          "name": "recent_session_scores",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "skill_level_history": {
          "name": "skill_level_history",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_preferences_user_id_idx": {
          "name": "user_preferences_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_preferences_target_language_idx": {
          "name": "user_preferences_target_language_idx",
          "columns": [
            {
              "expression": "target_language_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_preferences_user_id_users_id_fk": {
          "name": "user_preferences_user_id_users_id_fk",
          "tableFrom": "user_preferences",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_preferences_target_language_id_languages_id_fk": {
          "name": "user_preferences_target_language_id_languages_id_fk",
          "tableFrom": "user_preferences",
          "tableTo": "languages",
          "columnsFrom": [
            "target_language_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_preferences_user_language_unique": {
          "name": "user_preferences_user_language_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id",
            "target_language_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_settings": {
      "name": "user_settings",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "audio_settings": {
          "name": "audio_settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "receive_marketing_emails": {
          "name": "receive_marketing_emails",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "receive_daily_reminder_emails": {
          "name": "receive_daily_reminder_emails",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "daily_reminder_sent_count": {
          "name": "daily_reminder_sent_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_reminder_sent_at": {
          "name": "last_reminder_sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "theme": {
          "name": "theme",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'system'"
        },
        "notifications_enabled": {
          "name": "notifications_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_settings_user_id_users_id_fk": {
          "name": "user_settings_user_id_users_id_fk",
          "tableFrom": "user_settings",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_usage": {
      "name": "user_usage",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "period": {
          "name": "period",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "conversations_used": {
          "name": "conversations_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "seconds_used": {
          "name": "seconds_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "realtime_sessions_used": {
          "name": "realtime_sessions_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "banked_seconds": {
          "name": "banked_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "banked_seconds_used": {
          "name": "banked_seconds_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "anki_exports_used": {
          "name": "anki_exports_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "session_extensions_used": {
          "name": "session_extensions_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "advanced_voice_seconds": {
          "name": "advanced_voice_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "analyses_used": {
          "name": "analyses_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "basic_analyses_used": {
          "name": "basic_analyses_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "quick_stats_used": {
          "name": "quick_stats_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "grammar_suggestions_used": {
          "name": "grammar_suggestions_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "advanced_grammar_used": {
          "name": "advanced_grammar_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "fluency_analysis_used": {
          "name": "fluency_analysis_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "phrase_suggestions_used": {
          "name": "phrase_suggestions_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "onboarding_profile_used": {
          "name": "onboarding_profile_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "pronunciation_analysis_used": {
          "name": "pronunciation_analysis_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "speech_rhythm_used": {
          "name": "speech_rhythm_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "audio_suggestion_used": {
          "name": "audio_suggestion_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "daily_usage": {
          "name": "daily_usage",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "completed_sessions": {
          "name": "completed_sessions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "longest_session_seconds": {
          "name": "longest_session_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "average_session_seconds": {
          "name": "average_session_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "overage_seconds": {
          "name": "overage_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "tier_when_used": {
          "name": "tier_when_used",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'free'"
        },
        "last_conversation_at": {
          "name": "last_conversation_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_realtime_at": {
          "name": "last_realtime_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_analysis_at": {
          "name": "last_analysis_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "first_activity_at": {
          "name": "first_activity_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "user_usage_user_idx": {
          "name": "user_usage_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_usage_period_idx": {
          "name": "user_usage_period_idx",
          "columns": [
            {
              "expression": "period",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_usage_user_period_idx": {
          "name": "user_usage_user_period_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "period",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_usage_user_id_users_id_fk": {
          "name": "user_usage_user_id_users_id_fk",
          "tableFrom": "user_usage",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "user_usage_user_id_period_pk": {
          "name": "user_usage_user_id_period_pk",
          "columns": [
            "user_id",
            "period"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "google_id": {
          "name": "google_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "native_language_id": {
          "name": "native_language_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'en'"
        },
        "preferred_ui_language_id": {
          "name": "preferred_ui_language_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'ja'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "last_usage": {
          "name": "last_usage",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "hashed_password": {
          "name": "hashed_password",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email_verified": {
          "name": "email_verified",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "email_verification_required": {
          "name": "email_verification_required",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "users_email_idx": {
          "name": "users_email_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_created_at_idx": {
          "name": "users_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_last_usage_idx": {
          "name": "users_last_usage_idx",
          "columns": [
            {
              "expression": "last_usage",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_google_id_unique": {
          "name": "users_google_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "google_id"
          ]
        },
        "users_username_unique": {
          "name": "users_username_unique",
          "nullsNotDistinct": false,
          "columns": [
            "username"
          ]
        },
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.analysis_finding_action": {
      "name": "analysis_finding_action",
      "schema": "public",
      "values": [
        "pending",
        "accepted",
        "ignored",
        "dismissed_auto"
      ]
    },
    "public.analysis_suggestion_severity": {
      "name": "analysis_suggestion_severity",
      "schema": "public",
      "values": [
        "info",
        "hint",
        "warning"
      ]
    },
    "public.challenge_preference_enum": {
      "name": "challenge_preference_enum",
      "schema": "public",
      "values": [
        "comfortable",
        "moderate",
        "challenging"
      ]
    },
    "public.correction_style_enum": {
      "name": "correction_style_enum",
      "schema": "public",
      "values": [
        "immediate",
        "gentle",
        "end_of_session"
      ]
    },
    "public.learning_motivation_enum": {
      "name": "learning_motivation_enum",
      "schema": "public",
      "values": [
        "Connection",
        "Career",
        "Travel",
        "Academic",
        "Culture",
        "Growth"
      ]
    },
    "public.linguistic_macro_skill": {
      "name": "linguistic_macro_skill",
      "schema": "public",
      "values": [
        "grammar",
        "lexis",
        "pragmatics",
        "discourse",
        "pronunciation",
        "fluency",
        "sociolinguistic"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}